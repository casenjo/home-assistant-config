/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/rgb-light-card@1.5.0/card.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
class RGBLightCard extends HTMLElement{set hass(t){this._hass=t,this.content||(this.init(),this.update())}init(){let t=this.attachShadow({mode:"open"});t.appendChild(RGBLightCard.getStaticCSS()),this.content=document.createElement("div"),this.content.className="wrapper",this.content.onclick=(t=>t.stopPropagation()),t.appendChild(this.content)}update(){this.content.innerHTML="",this.content.appendChild(this.getDynamicCSS());for(const t of this.config.colors){const e=document.createElement("div");e.className="color-circle",e.style.background=RGBLightCard.getCSSColor(t),e.addEventListener("click",()=>this.applyColor(t)),this.content.appendChild(e)}}getDynamicCSS(){const t=parseFloat(this.config.size)||32,e=document.createElement("style");return e.textContent=`\n        .wrapper { justify-content: ${RGBLightCard.getJustify(this.config.justify)}; margin-bottom: -${t/8}px; }\n        .color-circle {  width: ${t}px; height: ${t}px; margin: ${t/8}px ${t/4}px ${t/4}px; }\n        `.replace(/\s\s+/g," "),e}static getStaticCSS(){const t=document.createElement("style");return t.textContent="\n        .wrapper { cursor: auto; display: flex; flex-wrap: wrap; }\n        .color-circle {\n            border-radius: 50%; cursor: pointer; transition: box-shadow 0.15s ease-in-out;\n            box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n        }\n        .color-circle:hover {\n            box-shadow: 0 5px 5px -3px rgba(0,0,0,.2), 0 8px 10px 1px rgba(0,0,0,.14), 0 3px 14px 2px rgba(0,0,0,.12)\n        }\n        ".replace(/\s\s+/g," "),t}setConfig(t){const e=RGBLightCard.ensureBackwardCompatibility(t);if(!Array.isArray(e.colors))throw new Error("You need to define an array of colors");/*if(e.entity&&0!==e.entity.indexOf("light."))throw new Error(`Entity '${e.entity}' must be a light`);*/for(const t in e.colors){const r=e.colors[t],i=r.type||"light";if(-1===["light","call-service"].indexOf(i))throw new Error(`Invalid type '${i}' for colors[${t}]`);if("light"===i&&!e.entity&&!r.entity_id)throw new Error(`You need to define entity or colors[${t}].entity_id`);if("light"===i&&r.entity_id&&0!==r.entity_id.indexOf("light."))throw new Error(`colors[${t}].entity_id '${r.entity_id}' must be a valid light entity`);if("call-service"===i&&!r.service)throw new Error(`You need to define colors[${t}].service`);if("call-service"===i&&2!==r.service.split(".").length)throw new Error(`colors[${t}].service '${r.service}' must be a valid service`)}this.config=e,this.content&&this.update()}applyColor(t){if("call-service"===t.type){const[e,r]=t.service.split(".");return void this._hass.callService(e,r,t.service_data||{})}const e={entity_id:this.config.entity,...t,icon_color:void 0,type:void 0};this._hass.callService("light","turn_on",e)}static ensureBackwardCompatibility(t){const e=JSON.parse(JSON.stringify(t));return e.colors&&Array.isArray(e.colors)?(e.colors=e.colors.map((t,e)=>{if(t&&["script","scene"].indexOf(t.type)>-1){if(!t.entity_id)throw new Error(`You need to define colors[${e}].entity_id`);if(t.entity_id&&0!==t.entity_id.indexOf(t.type+"."))throw new Error(`colors[${e}].entity_id '${t.entity_id}' must be a ${t.type}`);t.service=`${t.type}.turn_on`,t.service_data={entity_id:t.entity_id},t.type="call-service",t.entity_id=void 0}return t}),e):e}static getCSSColor(t){if(t.icon_color)return t.icon_color;if(t.color_name)return t.color_name;if(t.color_temp||t.kelvin){let e=parseInt(t.color_temp,10)||Math.round(1e6/parseInt(t.kelvin,10));e=Math.max(154,Math.min(500,e));const r=327,i=[[166,209,255],[255,255,255],[255,160,0]].slice(e<r?0:1),o=[154,r,500].slice(e<r?0:1);return`rgb(${[0,1,2].map(t=>(e-o[0])*(i[1][t]-i[0][t])/(o[1]-o[0])+i[0][t]).map(Math.round).join(",")})`}return Array.isArray(t.rgb_color)&&3===t.rgb_color.length?`rgb(${t.rgb_color.join(",")})`:Array.isArray(t.hs_color)&&2===t.hs_color.length?`hsl(${t.hs_color[0]},100%,${100-t.hs_color[1]/2}%)`:"#7F848E"}static getJustify(t){return{left:"flex-start",right:"flex-end",center:"center",between:"space-between",around:"space-around"}[t]||"flex-start"}}customElements.define("rgb-light-card",RGBLightCard),console.info("\n %c RGB Light Card %c v1.5.0 %c \n","background-color: #555;color: #fff;padding: 3px 2px 3px 3px;border-radius: 3px 0 0 3px;font-family: DejaVu Sans,Verdana,Geneva,sans-serif;text-shadow: 0 1px 0 rgba(1, 1, 1, 0.3)","background-color: #bc81e0;background-image: linear-gradient(90deg, #b65cff, #11cbfa);color: #fff;padding: 3px 3px 3px 2px;border-radius: 0 3px 3px 0;font-family: DejaVu Sans,Verdana,Geneva,sans-serif;text-shadow: 0 1px 0 rgba(1, 1, 1, 0.3)","background-color: transparent");
//# sourceMappingURL=/sm/6422c56cff4cb41851aa83069bddc0382c44627df21c295844462a0b08d37d4f.map
